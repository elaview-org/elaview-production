schema {
  query: Query
}

"""
The purpose of the `cost` directive is to define a `weight` for GraphQL types, fields, and arguments. Static analysis can use these weights when calculating the overall cost of a query or response.
"""
directive @cost(
  """
  The `weight` argument defines what value to add to the overall cost for every appearance, or possible appearance, of a type, field, argument, etc.
  """
  weight: String!
) on ARGUMENT_DEFINITION | ENUM | FIELD_DEFINITION | INPUT_FIELD_DEFINITION | OBJECT | SCALAR

type AdvertiserProfile {
  companyName: String
  createdAt: DateTime!
  id: String!
  industry: String
  stripeCustomerId: String
  updatedAt: DateTime!
  user: User!
  userId: String!
  website: String
}

type Booking {
  adminNotes: String
  advertiserNotes: String
  balanceAmount: Decimal
  balanceChargeAttempts: Int!
  balanceChargeError: String
  balanceChargeId: String
  balanceDueDate: DateTime
  balancePaidAt: DateTime
  balanceStripeChargeId: String
  campaign: Campaign!
  campaignId: String!
  cancellationReason: String
  cancelledAt: DateTime
  cancelledBy: String
  checkpointTransferIds: [String!]!
  createdAt: DateTime!
  depositAmount: Decimal
  depositChargeId: String
  depositPaidAt: DateTime
  depositStripeChargeId: String
  disputePhotos: [String!]!
  disputeReason: String
  disputeType: DisputeIssueType
  disputedAt: DateTime
  disputedBy: String
  endDate: DateTime!
  finalPayoutAmount: Decimal
  finalPayoutDate: DateTime
  finalPayoutProcessed: Boolean!
  finalTransferId: String
  finalTransferredAt: DateTime
  firstPayoutAmount: Decimal
  firstPayoutDate: DateTime
  firstPayoutProcessed: Boolean!
  firstRentalTransferId: String
  firstRentalTransferredAt: DateTime
  id: String!
  installationFeeTransferId: String
  installationFeeTransferredAt: DateTime
  isTestData: Boolean!
  lastBalanceChargeAttempt: DateTime
  lastPayoutAttempt: DateTime
  messages: [Message!]!
  missedVerifications: Int!
  nextVerificationDue: DateTime
  ownerNotes: String
  paidAt: DateTime
  paymentType: PaymentType!
  payoutAttempts: Int!
  payoutError: String
  payoutProcessedAt: DateTime
  payoutStatus: PayoutStatus
  pendingPayoutReason: String
  platformFee: Decimal!
  pricePerDay: Decimal!
  proofApprovedAt: DateTime
  proofApprovedBy: String
  proofMessageId: String
  proofPhotos: [String!]!
  proofStatus: ProofStatus
  proofUploadedAt: DateTime
  qualityGuaranteePeriod: DateTime
  refundAmount: Decimal
  refundHistory: JsonDocument
  refundProcessedAt: DateTime
  refundedAt: DateTime
  reservedUntil: DateTime
  resolutionAction: String
  resolutionNotes: String
  resolvedAt: DateTime
  resolvedBy: String
  review: Review
  space: Space!
  spaceId: String!
  spaceOwnerAmount: Decimal!
  startDate: DateTime!
  status: BookingStatus!
  stripeChargeId: String
  stripeFee: Decimal
  stripePaymentIntentId: String
  stripeRefundId: String
  stripeTransferId: String
  totalAmount: Decimal!
  totalDays: Int!
  totalWithFees: Decimal
  transferAmount: Decimal
  transferredAt: DateTime
  updatedAt: DateTime!
  verificationPhotos: JsonDocument
  verificationSchedule: JsonDocument
}

enum BookingStatus {
  ACTIVE
  APPROVED
  AWAITING_PROOF
  CANCELLED
  COMPLETED
  CONFIRMED
  DISPUTED
  PENDING_APPROVAL
  PENDING_BALANCE
  REJECTED
}

enum BugCategory {
  AUTHENTICATION
  BOOKING
  CAMPAIGN
  DATA_INTEGRITY
  MESSAGING
  NOTIFICATIONS
  OTHER
  PAYMENT
  PERFORMANCE
  SPACE_MANAGEMENT
  UI_UX
}

type BugReport {
  adminNotes: String
  category: BugCategory!
  createdAt: DateTime!
  description: String!
  id: String!
  linkedBugId: String
  pageUrl: String
  processedAt: DateTime
  processedBy: String
  screenshots: [String!]!
  severity: BugSeverity!
  status: BugStatus!
  title: String!
  updatedAt: DateTime!
  user: User
  userAgent: String
  userId: String
}

enum BugSeverity {
  CRITICAL
  HIGH
  LOW
  MEDIUM
}

enum BugStatus {
  CONFIRMED
  DUPLICATE
  FIXED
  IN_PROGRESS
  NEW
  WONT_FIX
}

type Campaign {
  advertiser: User!
  advertiserId: String!
  bookings: [Booking!]!
  createdAt: DateTime!
  description: String
  endDate: DateTime
  goals: String
  id: String!
  imageUrl: String!
  messages: [Message!]!
  name: String!
  startDate: DateTime
  status: CampaignStatus!
  targetAudience: String
  totalBudget: Decimal
  updatedAt: DateTime!
}

enum CampaignStatus {
  ACTIVE
  CANCELLED
  COMPLETED
  DRAFT
  SUBMITTED
}

"""The `DateTime` scalar represents an ISO-8601 compliant date time type."""
scalar DateTime

"""The `Decimal` scalar type represents a decimal floating-point number."""
scalar Decimal

type DeviceSession {
  current: Boolean!
  device: String!
  id: String!
  lastActive: DateTime!
  location: String!
}

enum DisputeIssueType {
  DAMAGE_TO_CREATIVE
  MISLEADING_LISTING
  NOT_VISIBLE
  POOR_QUALITY
  SAFETY_ISSUE
  WRONG_LOCATION
}

scalar JSON

type JsonDocument {
  rootElement: JSON!
}

type Message {
  attachments: [String!]!
  attemptedResolution: String
  autoApprovedAt: DateTime
  booking: Booking
  bookingId: String
  campaign: Campaign!
  campaignId: String!
  content: String!
  correctionDetails: String
  createdAt: DateTime!
  disputeReason: String
  id: String!
  isRead: Boolean!
  issueType: DisputeIssueType
  messageType: MessageType!
  proofApprovedAt: DateTime
  proofApprovedBy: String
  proofDisputedAt: DateTime
  proofStatus: ProofStatus
  sender: User!
  senderId: String!
}

enum MessageType {
  CORRECTION_REQUEST
  PROOF_APPROVED
  PROOF_DISPUTED
  PROOF_REJECTED
  PROOF_SUBMISSION
  QUALITY_CONCERN
  SYSTEM
  TEXT
}

type Notification {
  bookingId: String
  campaignId: String
  content: String!
  createdAt: DateTime!
  id: String!
  isRead: Boolean!
  title: String!
  type: NotificationType!
  user: User!
  userId: String!
}

type NotificationSettings {
  bookingApprovals: Boolean!
  bookingRequests: Boolean!
  campaignUpdates: Boolean!
  emailDigest: String!
  marketingEmails: Boolean!
  paymentReceipts: Boolean!
  systemNotifications: Boolean!
}

enum NotificationType {
  BOOKING_APPROVED
  BOOKING_CANCELLED
  BOOKING_REJECTED
  BOOKING_REQUESTED
  DISPUTE_FILED
  MESSAGE_RECEIVED
  PAYMENT_FAILED
  PAYMENT_RECEIVED
  PAYMENT_REMINDER
  PAYOUT_PROCESSED
  PROOF_APPROVED
  PROOF_DISPUTED
  PROOF_REJECTED
  PROOF_UPLOADED
  REFUND_PROCESSED
  SESSION_EXPIRED
  SPACE_APPROVED
  SPACE_REACTIVATED
  SPACE_REJECTED
  SPACE_SUSPENDED
  SYSTEM_UPDATE
}

enum PaymentType {
  DEPOSIT
  IMMEDIATE
}

enum PayoutSchedule {
  BIWEEKLY
  MONTHLY
  WEEKLY
}

enum PayoutStatus {
  COMPLETED
  FAILED
  PARTIALLY_PAID
  PENDING
  PROCESSING
}

enum ProofStatus {
  APPROVED
  CORRECTION_REQUESTED
  DISPUTED
  PENDING
  REJECTED
  UNDER_REVIEW
}

type Query {
  currentUser: User
  notificationSettings: NotificationSettings!
  securitySettings: SecuritySettings!
  userById(id: String!): User
}

type Review {
  booking: Booking!
  bookingId: String!
  comment: String
  createdAt: DateTime!
  id: String!
  rating: Int!
  reviewerType: ReviewerType!
  space: Space!
  spaceId: String!
}

enum ReviewerType {
  ADVERTISER
  SPACE_OWNER
}

type SecuritySettings {
  deviceSessions: [DeviceSession!]!
  loginNotifications: Boolean!
  twoFactorEnabled: Boolean!
}

type Space {
  address: String!
  availableFrom: DateTime
  availableTo: DateTime
  averageRating: Float
  bookings: [Booking!]!
  city: String!
  createdAt: DateTime!
  description: String
  dimensions: String
  dimensionsText: String
  height: Float
  id: String!
  images: [String!]!
  installationFee: Decimal
  latitude: Float!
  longitude: Float!
  maxDuration: Int
  minDuration: Int!
  owner: User!
  ownerId: String!
  pricePerDay: Decimal!
  quadtreeDepth: Int
  quadtreeNodeId: String
  rejectionReason: String
  reviews: [Review!]!
  state: String!
  status: SpaceStatus!
  title: String!
  totalBookings: Int!
  totalRevenue: Decimal!
  traffic: String
  type: SpaceType!
  updatedAt: DateTime!
  width: Float
  zipCode: String
}

type SpaceOwnerProfile {
  accountDisconnectedAt: DateTime
  accountDisconnectedNotifiedAt: DateTime
  businessName: String
  businessType: String
  createdAt: DateTime!
  id: String!
  lastAccountHealthCheck: DateTime
  onboardingComplete: Boolean!
  payoutSchedule: PayoutSchedule!
  stripeAccountId: String
  stripeAccountStatus: String
  updatedAt: DateTime!
  user: User!
  userId: String!
}

enum SpaceStatus {
  ACTIVE
  INACTIVE
  PENDING_APPROVAL
  REJECTED
  SUSPENDED
}

enum SpaceType {
  BILLBOARD
  DIGITAL_DISPLAY
  OTHER
  STOREFRONT
  TRANSIT
  VEHICLE_WRAP
  WINDOW_DISPLAY
}

type User {
  advertiserProfile: AdvertiserProfile
  avatar: String
  bugReports: [BugReport!]!
  campaigns: [Campaign!]!
  createdAt: DateTime!
  email: String!
  id: String
  lastLoginAt: DateTime
  name: String
  notifications: [Notification!]!
  ownedSpaces: [Space!]!
  password: String!
  phone: String
  role: UserRole!
  sentMessages: [Message!]!
  spaceOwnerProfile: SpaceOwnerProfile
  status: UserStatus!
  updatedAt: DateTime!
}

enum UserRole {
  ADMIN
  ADVERTISER
  MARKETING
  SPACE_OWNER
}

enum UserStatus {
  ACTIVE
  DELETED
  SUSPENDED
}